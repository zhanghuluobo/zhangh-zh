<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ZH V1.0</title>
    <link rel="stylesheet" type="text/css" href="/zhangh/static/easyui/themes/metro/easyui.css">
    <link rel="stylesheet" type="text/css" href="/zhangh/static/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="/zhangh/static/easyui/huluobo.css">
    <script type="text/javascript" src="/zhangh/static/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="/zhangh/static/easyui/jquery.easyui.min.js"></script>
</head>
<body class="easyui-layout">
<div data-options="region:'north',border:false" style="height:60px;background:#399bff;">
    <div class="applogo">
        <span class="logo">ZH</span>
        <span class="logo_sub">V1.0</span>
    </div>

</div>
<div data-options="region:'west',title:'主目录'" style="width:250px;">
    <div class="easyui-panel" style="padding: 5px ;height: 100%">
        <ul id="menuTree"></ul>
    </div>
</div>
<!--<div data-options="region:'east',collapsed:true,title:'East'" style="width:150px;">east region</div>-->
<div data-options="region:'south',border:false" style="height:50px;background: #3d464d;">south region</div>
<div data-options="region:'center'"></div>
</body>
<script type="text/javascript">
    $(document).ready(function () {
        //初始化树组件
        $('#menuTree').tree();
        var myData = {}
        $.ajax({
            url:'/zhangh/system/menu/queryMenu',
            type:'post',
            data:JSON.stringify(myData),
            dataType:'json',
            contentType: 'application/json; charset=utf-8',
            success:function (resultData) {
                $('#menuTree').tree({
                    data:resultData.data,
                    onClick: function(node){
                        //状态为关闭而且非叶子节点
                        if(node.state=='closed'&&(!$("#menuTree").tree('isLeaf',node.target))){
                            //点击文字展开菜单
                            $(this).tree('expand',node.target);
                        }else{
                            $(this).tree('collapse',node.target);
                        }
                    }
                });
            }
        })
    });
    // onClick: function(node){
    //     if(node.url != null){
    //         parent.frames["content"].location.href="${ctx}" rel="external nofollow" + node.url;
    //     }else{
    //         if(node.state=='closed'&&(!$("#tree").tree('isLeaf',node.target))){ //状态为关闭而且非叶子节点
    //             $(this).tree('expand',node.target);//点击文字展开菜单
    //         }else{
    //             $(this).tree('collapse',node.target);
    //         }
    //     }
    //
    // }

</script>
</html>