<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body >
<div class="easyui-layout" data-options="fit:true">
    <div data-options="region:'north'" style="height:60px"></div>
    <div data-options="region:'center'">
        <table id="dictTypeList"></table>
    </div>

    <div id="toolbar">
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true"
           onclick="openDictType('新增字典类型')">新增字典类型</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true"
           onclick="editUser()">编辑字典类型</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true"
           onclick="destroyUser()">删除字典类型</a>
    </div>

    <div id="dictType" class="easyui-dialog" style="width:500px"
         data-options="closed:true,modal:true,border:'thin',buttons:'#dictType-buttons'">
        <form id="dictTypeForm" novalidate style="margin:0;padding:20px 20px">
            <div style="margin-bottom:10px">
                <input name="dictTypeCode" class="easyui-textbox" required="true" label="字典类型CODE" labelWidth="120px"
                       style="width: 100%">
            </div>
            <div style="margin-bottom:10px">
                <input name="dictTypeName" class="easyui-textbox" required="true" label="字典类型名称" labelWidth="120px"
                       style="width:100%">
            </div>
            <div style="margin-bottom:10px">
                <input name="category" class="easyui-textbox" required="true" label="所属类别" labelWidth="120px"
                       style="width:100%">
            </div>
            <div style="margin-bottom:10px">
                <input name="dictTypeDetail" class="easyui-textbox" required="true" label="字典类型描述" labelWidth="120px"
                       style="width:100%">
            </div>
            <div style="margin-bottom:10px">
                <input name="executiveStandard" class="easyui-textbox" required="true" label="执行标准" labelWidth="120px"
                       style="width:100%">
            </div>
            <div style="margin-bottom:10px">
                <input name="dictTypeStatus" class="easyui-textbox" required="true" label="状态" labelWidth="120px"
                       style="width:100%">
            </div>
        </form>
    </div>
    <div id="dictType-buttons">
        <a href="javascript:void(0)" class="easyui-linkbutton c6" iconCls="icon-ok" onclick="insertDictType('/zhangh/system/dictType/insertDictType')"
           style="width:90px">Save</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel"
           onclick="javascript:$('#dictType').dialog('close')" style="width:90px">Cancel</a>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        //列表
        $('#dictTypeList').datagrid({
            fitColumns: true,
            pagination: true,
            rownumbers: true,
            singleSelect: true,
            toolbar: '#toolbar',
            fit: true,
            columns: [[
                {field: 'dictTypeCode', title: '字典类型编码', width: 100},
                {field: 'dictTypeName', title: '字典类型名称', width: 100},
                {field: 'category', title: '所属类别', width: 100},
                {field: 'dictTypeDetail', title: '字典类型描述', width: 100},
                {field: 'executiveStandard', title: '执行标准', width: 100},
                {field: 'dictTypeStatus', title: '状态', width: 100}
            ]]
        });

        var myData = {}
        $.ajax({
            url: '/zhangh/system/dictType/queryDictType',
            type: 'post',
            data: JSON.stringify(myData),
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (resultData) {
                var data = resultData.data;
                console.log(data);
                $('#dictTypeList').datagrid({
                    data: data
                });
            }
        });
    });

    //弹窗
    function openDictType(title) {
        $('#dictType').dialog('open').dialog('center').dialog('setTitle', title);
        $('#dictTypeForm').form('clear');
    }

    //新增
    function insertDictType(respectiveUrl) {
        var myData = $('#dictTypeForm').serializeJson();
        $.ajax({
            url: respectiveUrl,
            type: 'post',
            data: JSON.stringify(myData),
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (resultData) {
                var code = resultData.code;
                if (1 == code) {
                    $.messageShowSuccess(resultData.msg);
                    $('#dictType').dialog('close');
                    $('#dictTypeList').datagrid('reload');
                }else {
                    $.messageShowFail(resultData.msg);
                }
            }
        });
    }


</script>
</body>

</html>